{"openapi":"3.0.2","info":{"title":"Echo Agent","version":"0.1.0"},"paths":{"/connection":{"post":{"summary":"New Connection","description":"Create a new static connection.","operationId":"new_connection","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewConnection"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Connection"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/receive":{"post":{"summary":"Receive Message","description":"Receive a new agent message and push onto the message queue.","operationId":"receive_message_receive_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/retrieve/{connection_id}":{"get":{"summary":"Retreive Messages","description":"Retrieve all received messages for recipient key.","operationId":"retrieve_messages","parameters":[{"required":true,"schema":{"title":"Connection Id","type":"string"},"name":"connection_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Retreive Messages Retrieve  Connection Id  Get","type":"array","items":{"type":"object"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wait-for/{connection_id}":{"get":{"summary":"Wait For Message","description":"Wait for a message matching criteria.","operationId":"wait_for_message","parameters":[{"required":true,"schema":{"title":"Connection Id","type":"string"},"name":"connection_id","in":"path"},{"required":false,"schema":{"title":"Thid","type":"string"},"name":"thid","in":"query"},{"required":false,"schema":{"title":"Msg Type","type":"string"},"name":"msg_type","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Wait For Message Wait For  Connection Id  Get","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/send/{connection_id}":{"post":{"summary":"Send Message","description":"Send a message to connection identified by did.","operationId":"send_message","parameters":[{"required":true,"schema":{"title":"Connection Id","type":"string"},"name":"connection_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Message","type":"object"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/debug":{"get":{"summary":"Debug Info","description":"Return agent state for debugging.","operationId":"debug_info_debug_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DebugInfo"}}}}}}}},"components":{"schemas":{"Connection":{"title":"Connection","required":["connection_id","did","verkey","their_vk"],"type":"object","properties":{"connection_id":{"title":"Connection Id","type":"string"},"did":{"title":"Did","type":"string"},"verkey":{"title":"Verkey","type":"string"},"their_vk":{"title":"Their Vk","type":"string"}}},"DebugInfo":{"title":"DebugInfo","required":["connections","recip_key_to_connection_id","messages"],"type":"object","properties":{"connections":{"title":"Connections","type":"object","additionalProperties":{"type":"string"}},"recip_key_to_connection_id":{"title":"Recip Key To Connection Id","type":"object","additionalProperties":{"type":"string"}},"messages":{"title":"Messages","type":"object","additionalProperties":{"type":"string"}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"NewConnection":{"title":"NewConnection","required":["seed","endpoint","their_vk"],"type":"object","properties":{"seed":{"title":"Seed","type":"string","example":"00000000000000000000000000000000"},"endpoint":{"title":"Endpoint","type":"string"},"their_vk":{"title":"Their Vk","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}
